<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <meta name="description" content="Amazon Pay SDK Samples : Amazon Pay SDK Sample Code">

        <script type="text/javascript">
            var host = "amzn.github.io";
            if ((host === window.location.host) && (window.location.protocol !== "https:"))
                window.location.protocol = "https";

            window.onAmazonLoginReady = function () {
                amazon.Login.setClientId('amzn1.application-oa2-client.cb8c1ca99afa4ce4a18067eccf098823');
            };
        </script>
        <script type='text/javascript' src='https://static-na.payments-amazon.com/OffAmazonPayments/us/sandbox/js/Widgets.js'></script>
        <script type="text/javascript">
            amazon.Login.logout();
            document.cookie = "amazon_Login_accessToken=; expires=Thu, 01 Jan 1970 00:00:00 GMT";
            document.cookie = "aws-session-id=; expires=Thu, 01 Jan 1970 00:00:00 GMT";
        </script>

        <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
        <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
        <script type="text/javascript" src="javascripts/prism.js"></script>
        <script type="text/javascript" src="javascripts/analytics.js"></script>

        <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/reset.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.css">
        <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/prism.css">
        <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
        <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/font-mfizz.css">

        <title>Amazon Pay SDK Samples</title>
    </head>

    <body>

        <!-- HEADER -->
        <div id="header_wrap" class="outer">
            <header class="inner">
                <a id="forkme_banner" href="https://github.com/amzn/amazon-pay-sdk-samples">View on GitHub</a>

                <h1 id="project_title" style="margin-top:20px;">Amazon Pay SDK Samples</h1>
                <h2 id="project_tagline">Amazon Pay Recurring Payments</h2>


            </header>
        </div>

        <div id="main_content_wrap" class="outer"> <!-- wrap -->
            <section id="main_content" class="inner">

                <div id="section-content">
                    <h2>Test Cart</h2>


                    <p style="margin-top:20px;">This is a test cart to show which calls need to
                        be made to allow a buyer to make a purchase. </p>
                    <p>Note: This is a <strong>sandbox</strong> transaction. Your <strong>payment method</strong> will <strong>not be charged</strong>.</p>
                    <div style="margin-top:25px;">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Product</th>
                                    <th>Description</th>
                                    <th class="text-center">Quantity</th>
                                    <th class="text-center text-nowrap">Billing Cycle</th>
                                    <th class="text-center">Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><i class="text-center media-object icon-html" style="font-size:3em"></i></td>
                                    <td>
                                        <div><strong>The Daily Developer Subscription</strong></div>
                                        <div><em>The Daily Developer magazine subscription.</em></div>

                                    </td>
                                    <td class="text-center">1</td>
                                    <td class="text-center">Every 10 seconds</td>
                                    <td class="text-center">2.00/cycle</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="text-center" style="margin-top:20px;">
                        <p>When logging in, use a sandbox test account.  To create a test account:</p>
                        <div class="text-left">
                                <ol>
                                    <li>Login to Seller Central</li>
                                    <li>Select "Amazon Pay (Sandbox View)" from the picklist at the top of the screen</li>
                                    <li>Hover over the "Integration" option at the top of the screen</li>
                                    <li>Select "Test Accounts" from the Integration menu</li>
                                    <li>Click the "Create a new test account" button and follow the instructions</li>
                                </ol>
                        </div>
                    </div>
                    <div class="text-center" id="AmazonPayButton" style="margin-top:20px;"></div>
                </div>
            </section>

            <section class="inner">
                <p>Create the button container.</p>
                <pre><code class="language-markup">&#x3C;div id=&#x22;AmazonPayButton&#x22;&#x3E;&#x3C;/div&#x3E;</code></pre>
                <p>Add script to set the client Id.</p>
                <pre><code class="language-javascript">&#x3C;script type=&#x27;text/javascript&#x27;&#x3E;
    window.onAmazonLoginReady = function () {
        amazon.Login.setClientId(&#x27;CLIENT_ID&#x27;);
    };
&#x3C;/script&#x3E;</code></pre>

                <p>Import widgets javascript. This must be loaded after you set the client Id above.</p>
                <h5>USA</h5>
                <pre><code class="language-javascript">&#x3C;script type=&#x27;text/javascript&#x27; src=&#x27;https://static-na.payments-amazon.com/OffAmazonPayments/us/sandbox/js/Widgets.js&#x27;&#x3E;&#x3C;/script&#x3E;</code></pre>
                <h5>UK</h5>
                <pre><code class="language-javascript">&#x3C;script type=&#x27;text/javascript&#x27; src=&#x27;https://static-eu.payments-amazon.com/OffAmazonPayments/uk/sandbox/js/Widgets.js&#x27;&#x3E;&#x3C;/script&#x3E;</code></pre>

                <p>Render the button. Note: You will need to add your domain to 'Allowed JavaScript
                    Origins' in Seller Central. If you are testing locally you can use 'http://localhost'.
                    Production sites must have a valid certificate and use https.</p>
                <pre><code class="language-javascript">&lt;script type='text/javascript'&gt;
    var authRequest;
    OffAmazonPayments.Button(&quot;AmazonPayButton&quot;, &quot;MERCHANT_ID&quot;, {
        type: &quot;PwA&quot;,
        authorization: function () {
            loginOptions = { scope: &quot;profile postal_code payments:widget payments:shipping_address&quot;, popup: true };
            authRequest = amazon.Login.authorize(loginOptions, &quot;https://amzn.github.io/amazon-pay-sdk-samples/set_recurring.html&quot;);
        },
        onError: function (error) {
            // something bad happened
        }
    });
&lt;/script&gt;</code></pre>



            </section>

        </div><!-- end wrap -->

        <!-- FOOTER  -->
        <div id="footer_wrap" class="outer">
            <footer class="inner">
                <p class="copyright">Amazon Pay SDK Samples maintained by <a href="https://github.com/amzn">amzn</a></p>
                <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
            </footer>
        </div>


        <script type='text/javascript'>
            var authRequest;
            OffAmazonPayments.Button("AmazonPayButton", "A1U65N017TFV5S", {
                type: "PwA",
                authorization: function () {
                    loginOptions = {scope: "profile postal_code payments:widget payments:shipping_address", popup: true};
                    authRequest = amazon.Login.authorize(loginOptions, "https://amzn.github.io/amazon-pay-sdk-samples/set_recurring.html");
                },
                onError: function (error) {
                    // something bad happened
                }
            });
        </script>



    </body>
</html>

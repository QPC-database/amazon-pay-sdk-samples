<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Amazon Pay SDK Samples : Amazon Pay SDK Sample Code">

    <script>
        var host = "amzn.github.io";
        if ((host === window.location.host) && (window.location.protocol !== "https:")) {
            window.location.protocol = "https";
        }
        window.onAmazonLoginReady = function() {
            amazon.Login.setClientId('amzn1.application-oa2-client.fa79e58459cf4a30aa478fc8f79e0ef7');
        };
        window.onAmazonPaymentsReady = function() {
            logoutPreviousSessions()
            showButton();
        };
    </script>

    <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
    <script src="javascripts/prism.js"></script>
    <script src="javascripts/analytics.js"></script>

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/reset.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/prism.css">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Amazon Pay SDK Samples</title>
</head>

<body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
            <a id="forkme_banner" href="https://github.com/amzn/amazon-pay-sdk-samples">View on GitHub</a>

            <h1 id="project_title" style="margin-top:20px;">Amazon Pay SDK Samples</h1>
            <h2 id="project_tagline">Amazon Pay - Quick Start for a Simple Checkout</h2>


        </header>
    </div>

    <div id="main_content_wrap" class="outer">
        <!-- wrap -->
        <section id="main_content" class="inner">

            <div id="section-content">
                <h2>Test Cart</h2>


                <p style="margin-top:20px;">This is a test cart to show which calls need to be made to allow a buyer to make a purchase. </p>
                <p>Note: This is a <strong>sandbox</strong> transaction. Your <strong>payment method</strong> will <strong>not be charged</strong>.</p>
                <div style="margin-top:25px;">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Description</th>
                                <th class="text-center">Quantity</th>
                                <th class="text-center">Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><img class="media-object" src="https://cloud.githubusercontent.com/assets/9828472/7424291/52ca5edc-ef54-11e4-8884-872b89711b55.jpg" alt=""></td>
                                <td>
                                    <div><strong>Baldwin Entry Door Knob</strong></div>
                                    <div><em>Baldwin's Classic knob gives a comforting and invitingly warm impression. Clean lines and simple, architecturally-inspired designs exemplify timeless sophistication.</em></div>

                                </td>
                                <td class="text-center">1</td>
                                <td class="text-center">175.00</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="text-center" style="margin-top:20px;">
                    <p>When logging in, you must use a sandbox test account.  To create a test account:</p>
                    <div class="text-left">
                                <ol>
                                    <li>Login to Seller Central</li>
                                    <li>Select "Amazon Pay (Sandbox View)" from the picklist at the top of the screen</li>
                                    <li>Hover over the "Integration" option at the top of the screen</li>
                                    <li>Select "Test Accounts" from the Integration menu</li>
                                    <li>Click the "Create a new test account" button and follow the instructions</li>
                                </ol>
                    </div>
                </div>
                <div class="text-center" id="AmazonPayButton" style="margin-top:20px;"></div>
            </div>
        </section>

        <section class="inner">
            <h2>Code</h2>
            <p>Create the button container.</p>
            <pre><code class="language-markup">&#x3C;div id=&#x22;AmazonPayButton&#x22;&#x3E;&#x3C;/div&#x3E;</code></pre>
            <p>Add script to set the client Id.</p>
            <pre><code class="language-javascript">&#x3C;script&#x3E;
    window.onAmazonLoginReady = function () {
        amazon.Login.setClientId(&#x27;CLIENT_ID&#x27;);
    };
        window.onAmazonPaymentsReady = function() {
                showButton();
        };
&#x3C;/script&#x3E;</code></pre>

            <p>Import widgets javascript. This must be loaded after you set the client Id above.</p>
            <h5>USA</h5>
            <pre><code class="language-javascript">&#x3C;script async=&#x27;async&#x27; src=&#x27;https://static-na.payments-amazon.com/OffAmazonPayments/us/sandbox/js/Widgets.js&#x27;&#x3E;&#x3C;/script&#x3E;</code></pre>
            <h5>UK</h5>
            <pre><code class="language-javascript">&#x3C;script async=&#x27;async&#x27; src=&#x27;https://static-eu.payments-amazon.com/OffAmazonPayments/uk/sandbox/lpa/js/Widgets.js&#x27;&#x3E;&#x3C;/script&#x3E;</code></pre>
            <h5>DE</h5>
            <pre><code class="language-javascript">&#x3C;script async=&#x27;async&#x27; src=&#x27;https://static-eu.payments-amazon.com/OffAmazonPayments/de/sandbox/lpa/js/Widgets.js&#x27;&#x3E;&#x3C;/script&#x3E;</code></pre>
            <h5>JP</h5>
            <pre><code class="language-javascript">&#x3C;script async=&#x27;async&#x27; src=&#x27;https://origin-na.ssl-images-amazon.com/images/G/09/EP/offAmazonPayments/sandbox/prod/lpa/js/Widgets.js&#x27;&#x3E;&#x3C;/script&#x3E;</code></pre>


            <p>Render the button. Note: You will need to add your domain to 'Allowed JavaScript Origins' in Seller Central. If you are testing locally you can use 'http://localhost'. Production sites must have a valid certificate and use https.</p>
            <pre><code class="language-javascript">&lt;script&gt;
    function showButton() {               
        var authRequest;
        OffAmazonPayments.Button(&quot;AmazonPayButton&quot;, &quot;MERCHANT_ID&quot;, {
             type: &quot;PwA&quot;,
             color: &quot;Gold&quot;,
             size: &quot;large&quot;,
             language: &quot;en-UK&quot;,
            authorization: function () {
                loginOptions = { scope: &quot;profile payments:widget payments:shipping_address&quot;, popup: true };
                authRequest = amazon.Login.authorize(loginOptions, &quot;https://amzn.github.io/amazon-pay-sdk-samples/set.html&quot;);
            },
            onError: function(error) {
                        // your error handling code.
                        // alert(&quot;The following error occurred: &quot; 
                        //        + error.getErrorCode() 
                        //        + &#39; - &#39; + error.getErrorMessage());
                    }
        });
    };
&lt;/script&gt;</code></pre>



        </section>

    </div>
    <!-- end wrap -->

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
        <footer class="inner">
            <p class="copyright">Amazon Pay SDK Samples maintained by <a href="https://github.com/amzn">amzn</a></p>
            <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
        </footer>
    </div>

    <script>
        function logoutPreviousSessions() {
            amazon.Login.logout();
            document.cookie = "amazon_Login_accessToken=; expires=Thu, 01 Jan 1970 00:00:00 GMT";
            document.cookie = "aws-session-id=; expires=Thu, 01 Jan 1970 00:00:00 GMT";
        }
    </script>

    <script>
        function showButton() {
            var authRequest;
            OffAmazonPayments.Button("AmazonPayButton", "AQR8184NJXADU", {
                type: "PwA",
                color: "Gold",
                size: "large",
                language: "en-UK",
                authorization: function() {
                    loginOptions = {
                        scope: "profile payments:widget payments:shipping_address",
                        popup: true
                    };
                    authRequest = amazon.Login.authorize(loginOptions, "https://amzn.github.io/amazon-pay-sdk-samples/set.html");
                },
                onError: function(error) {
                    // your error handling code.
                    // alert("The following error occurred: " 
                    //        + error.getErrorCode() 
                    //        + ' - ' + error.getErrorMessage());
                }
            });
        };
    </script>

    <script async='async' src='https://static-na.payments-amazon.com/OffAmazonPayments/us/sandbox/js/Widgets.js'></script>

</body>

</html>
